<html>
<div style="text-align:center">
  <h1> My First Code in github</h1>
<script src='https://d3js.org/d3.v5.min.js'></script>
  <style> rect {fill: lightblue; stroke: black; }</style>
<body onload='init()'>
<svg width=900 height=900>
</svg>
<script>
async function init() {
const data = await d3.csv('https://vedchugh.github.io/CS498-FinalProject-VedPC2/HW2_Country_Avg_age.csv');
console.log(data);

var w = 800;
var h = 800;
var padding = 2;

  
var yscale = d3.scaleLinear().domain([30,95]).range([h,0]);
var xscale = d3.scaleBand().domain(data.map(function(d) { return d.CountryName;})).range([0,w]);

var margin = 50;
var height = 800;
var width = 800;


var g = d3.selectAll("svg")
  .append("g")
  .attr("transform","translate("+margin+","+margin+")");

g.selectAll("rect")
  .data(data)
  .enter()
  .append("rect")
  .attr("x", function(d) {return xscale(d.CountryName);})
  .attr("y", function(d){ return yscale(parseFloat(d.AvgValue));})
  .attr("width", xscale.bandwidth())
  .attr("height", function(d){return h- yscale(parseFloat(d.AvgValue));});

var yaxis = d3.select("svg").append("g")
.attr("transform","translate("+margin+","+margin+")")
.call(d3.axisLeft(yscale));

var xaxis = d3.select("svg").append("g")
.attr("transform","translate("+margin+","+(height+margin)+")")
.call(d3.axisBottom(xscale));
}
</script>
</body>
  </div>
</html>
